<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-contribution/getting-started" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.0">
<title data-rh="true">Lodestar Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://chainsafe.github.io/lodestar/contribution/getting-started"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Contribution Guidelines | Lodestar"><meta data-rh="true" name="description" content="Thanks for your interest in contributing to Lodestar. It&#x27;s people like you that push the Ethereum ecosystem forward."><meta data-rh="true" property="og:description" content="Thanks for your interest in contributing to Lodestar. It&#x27;s people like you that push the Ethereum ecosystem forward."><link data-rh="true" rel="icon" href="/lodestar/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://chainsafe.github.io/lodestar/contribution/getting-started"><link data-rh="true" rel="alternate" href="https://chainsafe.github.io/lodestar/contribution/getting-started" hreflang="en"><link data-rh="true" rel="alternate" href="https://chainsafe.github.io/lodestar/contribution/getting-started" hreflang="x-default"><script src="https://plausible.io/js/script.js" defer="defer" data-domain="chainsafe.github.io/lodestar"></script><link rel="stylesheet" href="/lodestar/assets/css/styles.79b491cb.css">
<script src="/lodestar/assets/js/runtime~main.ac65c388.js" defer="defer"></script>
<script src="/lodestar/assets/js/main.e2ca73f1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/lodestar/"><div class="navbar__logo"><img src="/lodestar/images/logo.png" alt="Lodestar Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/lodestar/images/logo.png" alt="Lodestar Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Lodestar Documentation</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ChainSafe/lodestar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lodestar/">Home</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lodestar/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lodestar/security">Security Policy</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/lodestar/run/getting-started/installation">Run A Node</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lodestar/run/getting-started/installation">Install Options</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/lodestar/run/getting-started/quick-start">Quick Start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/lodestar/run/beacon-management/starting-a-node">Beacon Node</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/lodestar/run/validator-management/vc-configuration">Validator Client</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/lodestar/run/logging-and-metrics/prometheus-grafana">Logging and Metrics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/lodestar/run/bootnode/bootnode-cli">Discv5 Bootnode</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/lodestar/libraries/lightclient-prover/lightclient">Developer Tools</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/lodestar/libraries/lightclient-prover/lightclient">Light Client</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/lodestar/libraries/lightclient-prover/prover">Prover</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lodestar/supporting-libraries/">Supporting Libraries</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/lodestar/contribution/getting-started">Contributing</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/lodestar/contribution/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/lodestar/contribution/advanced-topics/setting-up-a-testnet">Advanced Topics</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lodestar/contribution/depgraph">Dependency Graph</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/lodestar/contribution/dev-cli">Development Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/lodestar/contribution/testing/">Testing</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lodestar/faqs">Frequently Asked Questions</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/lodestar/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Contributing</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Getting Started</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Contribution Guidelines</h1>
<p>Thanks for your interest in contributing to Lodestar. It&#x27;s people like you that push the Ethereum ecosystem forward.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li>⚙<!-- --> <a href="https://nodejs.org/" target="_blank" rel="noopener noreferrer">NodeJS</a> (LTS)</li>
<li>🧰<!-- --> <a href="https://classic.yarnpkg.com/lang/en/" target="_blank" rel="noopener noreferrer">Yarn</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="macos-specifics">MacOS Specifics<a href="#macos-specifics" class="hash-link" aria-label="Direct link to MacOS Specifics" title="Direct link to MacOS Specifics">​</a></h3>
<p>When using MacOS, there are a couple of extra prerequisites that are required.</p>
<ul>
<li>python</li>
<li>coreutils (e.g. via <code>brew install coreutils</code>)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started">Getting Started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting Started" title="Direct link to Getting Started">​</a></h2>
<ul>
<li>⚙<!-- --> Run <code>corepack enable</code> to enable <a href="https://nodejs.org/api/corepack.html" target="_blank" rel="noopener noreferrer">Corepack</a>.</li>
<li>⚙<!-- --> Run <code>yarn</code> to install dependencies.</li>
<li>⚙<!-- --> Run <code>yarn build</code> to build lib from source.</li>
<li>📦<!-- --> A <code>lodestar</code> binary will be bundled in <code>./packages/cli/bin</code>.</li>
<li>💻<!-- --> Run <code>./lodestar --help</code> to get a list of available commands and arguments.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tests">Tests<a href="#tests" class="hash-link" aria-label="Direct link to Tests" title="Direct link to Tests">​</a></h2>
<p>To run tests:</p>
<ul>
<li>🧪<!-- --> Run <code>yarn test:unit</code> for unit tests.</li>
<li>🧪<!-- --> Run <code>yarn test:e2e</code> for end-to-end tests.</li>
<li>🧪<!-- --> Run <code>yarn test:spec</code> for spec tests.</li>
<li>🧪<!-- --> Run <code>yarn test</code> to run all tests.</li>
<li>🧪<!-- --> Run <code>yarn check-types</code> to check TypeScript types.</li>
<li>🧪<!-- --> Run <code>yarn lint</code> to run the linter.</li>
</ul>
<p>Note that to run <code>test:e2e</code>, first ensure that the environment is correctly setup by running the <code>run_e2e_env.sh</code> script. This script requires a running docker engine.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">./scripts/run_e2e_env.sh start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Similarly, run <code>yarn download-spec-tests</code> before running <code>yarn test:spec</code>.</p>
<p>Contributing to tests:</p>
<ul>
<li>Test must not depend on external live resources, such that running tests for a commit must be deterministic:<!-- -->
<ul>
<li>Do not pull data from external APIs like execution JSON RPC (instead run a local node).</li>
<li>Do not pull unpinned versions from DockerHub (use deterministic tag) or Github (checkout commit not branch).</li>
<li>Carefully design tests that depend on timing sensitive events like p2p network e2e tests. Consider that Github runners are significantly less powerful than your development environment.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="devcontainer">Devcontainer<a href="#devcontainer" class="hash-link" aria-label="Direct link to Devcontainer" title="Direct link to Devcontainer">​</a></h2>
<p>A <a href="https://containers.dev/" target="_blank" rel="noopener noreferrer">devcontainer</a> <a href="https://github.com/ChainSafe/lodestar/blob/unstable/.devcontainer/devcontainer.json" target="_blank" rel="noopener noreferrer">configuration</a> is provided to help speed up linux based development environment setup. It will be used by <a href="https://github.com/features/codespaces" target="_blank" rel="noopener noreferrer">GitHub Codespaces</a> or directly inside VS Code via your local through this <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers" target="_blank" rel="noopener noreferrer">extension</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-issues">Common Issues<a href="#common-issues" class="hash-link" aria-label="Direct link to Common Issues" title="Direct link to Common Issues">​</a></h3>
<p><strong>Error: [vitest] Cannot mock &quot;../../src/db/repositories/index.js&quot; because it is already loaded by &quot;src/db/beacon.ts&quot;</strong></p>
<p>If you observe any error in tests with matching to above error message, that implies you are loading the mocks in the wrong order. The correct order is to import the mocks first and then the actual module. We suggest to import the mocks on very top before any local modules.</p>
<p><strong>✖ Error: Cannot find package &#x27;async_hooks&#x27; imported from</strong></p>
<p>If you observe following error running any of the test files that means you are running a file which itself or any dependency of that file imports <code>vitest</code>, but you are not running that file with <code>vitest</code> runner. Try running it with <code>yarn vitest</code> command, not with <code>node</code> command.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="debugging-spec-tests">Debugging Spec Tests<a href="#debugging-spec-tests" class="hash-link" aria-label="Direct link to Debugging Spec Tests" title="Direct link to Debugging Spec Tests">​</a></h3>
<ul>
<li>To fix errors always focus on passing all minimal tests first without running mainnet tests.</li>
<li>Spec tests often compare full expected vs actual states in JSON format.</li>
<li>A single logical error can cause many spec tests to fail. To focus on a single test at a time you can use vitest&#x27;s option <code>--bail 1</code> to stop at the first failed test</li>
<li>To then run only that failed test you can run against a specific file as use vitest&#x27;s filters option <code>-t &lt;pattern&gt;</code> to run only one case</li>
<li>Before running the tests, make sure to switch to the package directory (e.g. <code>packages/beacon-node</code>) to speed up test execution</li>
</ul>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token assign-left variable" style="color:rgb(9, 134, 88)">LODESTAR_PRESET</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">minimal </span><span class="token function" style="color:rgb(0, 0, 255)">yarn</span><span class="token plain"> vitest </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--run</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--bail</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--config</span><span class="token plain"> vitest.spec.config.ts test/spec/presets/sanity.test.ts </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-t</span><span class="token plain"> attester_slashing</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker">Docker<a href="#docker" class="hash-link" aria-label="Direct link to Docker" title="Direct link to Docker">​</a></h2>
<p>The docker-compose file requires that a <code>.env</code> file be present in this directory. The <code>default.env</code> file provides a template and can be copied <code>.env</code>:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">cp</span><span class="token plain"> default.env .env</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="beacon-node-only">Beacon node only<a href="#beacon-node-only" class="hash-link" aria-label="Direct link to Beacon node only" title="Direct link to Beacon node only">​</a></h6>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">docker-compose</span><span class="token plain"> up </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="beacon-node-and-validator">Beacon node and validator<a href="#beacon-node-and-validator" class="hash-link" aria-label="Direct link to Beacon node and validator" title="Direct link to Beacon node and validator">​</a></h6>
<p>First, you must have keystores and their secrets available locally at <code>./keystores</code> and your <code>password.txt</code> in <code>./secrets</code></p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">docker-compose</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-f</span><span class="token plain"> docker-compose.yml </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-f</span><span class="token plain"> docker-compose.validator.yml up </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="dockerized-metrics--local-beacon-node">Dockerized metrics + local beacon node<a href="#dockerized-metrics--local-beacon-node" class="hash-link" aria-label="Direct link to Dockerized metrics + local beacon node" title="Direct link to Dockerized metrics + local beacon node">​</a></h6>
<p>Run a local beacon with <code>--metrics</code> enabled. Then start Prometheus + Grafana with all dashboards in <code>./dashboards</code> automatically loaded running:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">./docker/docker-compose.local_dev.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="first-time-contributor">First Time Contributor?<a href="#first-time-contributor" class="hash-link" aria-label="Direct link to First Time Contributor?" title="Direct link to First Time Contributor?">​</a></h2>
<p>Unsure where to begin contributing to Lodestar? Here are some ideas!</p>
<ul>
<li>✏️<!-- --> See any typos? See any verbiage that should be changed or updated? Go for it! Github makes it easy to make contributions right from the browser.</li>
<li>🔎<!-- --> Look through our <a href="https://github.com/ChainSafe/lodestar/issues?q=is%3Aopen+is%3Aissue+no%3Aassignee" target="_blank" rel="noopener noreferrer">outstanding unassigned issues</a>. (Hint: look for issues labeled <code>good first issue</code> or <code>help-wanted</code>!)</li>
<li>💬<!-- --> Join our <a href="https://discord.gg/aMxzVcr" target="_blank" rel="noopener noreferrer">Discord chat</a>!
<a href="https://discord.gg/aMxzVcr" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://img.shields.io/discord/593655374469660673.svg?label=Discord&amp;logo=discord" alt="Discord" class="img_ev3q"></a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reporting-a-bug">Reporting A Bug?<a href="#reporting-a-bug" class="hash-link" aria-label="Direct link to Reporting A Bug?" title="Direct link to Reporting A Bug?">​</a></h2>
<ul>
<li>🗒<!-- --> <a href="https://github.com/ChainSafe/lodestar/issues/new/choose" target="_blank" rel="noopener noreferrer">Create a new issue!</a> Select the type of issue that best fits, and please fill out as much of the information as you can.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="contribution-process">Contribution Process<a href="#contribution-process" class="hash-link" aria-label="Direct link to Contribution Process" title="Direct link to Contribution Process">​</a></h2>
<ol>
<li>Make sure you&#x27;re familiar with our contribution guidelines <em>(this document)</em>!</li>
<li>Create your <a href="https://github.com/ChainSafe/lodestar/fork" target="_blank" rel="noopener noreferrer">own fork</a> of this repository.</li>
<li>Make your changes in your local fork.</li>
<li>If you&#x27;ve made a code change, make sure to lint and test your changes (<code>yarn lint</code> and <code>yarn test:unit</code>).</li>
<li>Make an open pull request when you&#x27;re ready for it to be reviewed. We review PRs on a regular basis. See Pull request etiquette for more information.</li>
<li>You may be asked to sign a Contributor License Agreement (CLA). We make it relatively painless with CLA-bot.</li>
</ol>
<p>Please note that trivial, non-code contributions such as spelling, grammar, typos, corrections, comments and link fixes are not acceptable pull requests. Although we appreciate the effort to fix these valid concerns, it is not practical for us to run our CI systems to accommodate minor external contributions which generate minimal value for the purpose of contribution/airdrop farming. It would be appreciated for you to open up an issue instead for our team to aggregate these types of contributions into a batch commit.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="github-style-guide">Github Style Guide<a href="#github-style-guide" class="hash-link" aria-label="Direct link to Github Style Guide" title="Direct link to Github Style Guide">​</a></h2>
<p><strong>Branch Naming</strong></p>
<p>If you are contributing from this repository prefix the branch name with your Github username (i.e. <code>myusername/short-description</code>)</p>
<p><strong>Pull Request Naming</strong></p>
<p>Pull request titles must be:</p>
<ul>
<li>Adhering to the <a href="https://www.conventionalcommits.org/en/v1.0.0/#summary" target="_blank" rel="noopener noreferrer">conventional commits</a> spec</li>
<li>Short and descriptive summary</li>
<li>Written in imperative present tense</li>
<li>Not end with a period</li>
</ul>
<p>For example:</p>
<ul>
<li>feat: add lodestar prover for execution api</li>
<li>fix: ignore known block in publish blinded block flow</li>
<li>refactor(reqresp)!: support byte based handlers</li>
</ul>
<p><strong>Pull Request Etiquette</strong></p>
<ul>
<li>Pull requests should remain as drafts when they are not ready for review by maintainers. Open pull requests signal to the maintainers that it&#x27;s ready for review.</li>
<li>If your pull request is no longer applicable or validated to fix an issue, close your pull request.</li>
<li>If your pull request is fixable and needs additional changes or commits within a short period of time, switch your pull request into a draft until it&#x27;s ready.</li>
<li>Otherwise, close your pull request and <a href="https://github.com/ChainSafe/lodestar/issues/new/choose" target="_blank" rel="noopener noreferrer">create a new issue instead.</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lodestar-monorepo">Lodestar Monorepo<a href="#lodestar-monorepo" class="hash-link" aria-label="Direct link to Lodestar Monorepo" title="Direct link to Lodestar Monorepo">​</a></h2>
<p>We&#x27;re currently experimenting with hosting the majority of lodestar packages and support packages in this repository as a <a href="https://en.wikipedia.org/wiki/Monorepo" target="_blank" rel="noopener noreferrer">monorepo</a>. We&#x27;re using <a href="https://lerna.js.org/" target="_blank" rel="noopener noreferrer">Lerna</a> to manage the packages. See <a href="https://github.com/ChainSafe/lodestar/tree/unstable/packages" target="_blank" rel="noopener noreferrer">packages/</a> for a list of packages hosted in this repository.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="style-guide">Style Guide<a href="#style-guide" class="hash-link" aria-label="Direct link to Style Guide" title="Direct link to Style Guide">​</a></h2>
<ul>
<li>Lodestar has migrated to using ES modules.</li>
<li>Many module class constructors have the following signature: <code>(options, dependencies)</code>
<ul>
<li>e.g.: <code>public constructor(opts: IExampleOptions, {db, logger}: IExampleModules)</code></li>
</ul>
</li>
<li>Modules should be designed to <em>&quot;do one thing and do it well!&quot;</em>
<ul>
<li>Consider the interface of a module -- events included, and make sure it is coherent</li>
</ul>
</li>
<li>Make sure your code is properly linted<!-- -->
<ul>
<li>use an IDE that will show linter errors/warnings</li>
<li>run <code>yarn lint</code> from the command line</li>
<li>common rules:<!-- -->
<ul>
<li>Functions and variables should be <a href="https://en.wikipedia.org/wiki/Camel_case" target="_blank" rel="noopener noreferrer"><code>camelCase</code></a>, classes should be <a href="http://wiki.c2.com/?PascalCase" target="_blank" rel="noopener noreferrer"><code>PascalCase</code></a>, constants should be <code>UPPERCASE_WITH_UNDERSCORES</code>.</li>
<li>Use <code>&quot;</code> instead of <code>&#x27;</code></li>
<li>All functions should have types declared for all parameters and return value</li>
<li>You shouldn&#x27;t be using TypeScript type <code>any</code></li>
<li>Private class properties should not be prefixed with a <code>_</code>
<ul>
<li>e.g.: <code>private dirty;</code>, not <code>private _dirty;</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Make sure that your code is properly type checked:<!-- -->
<ul>
<li>use an IDE that will show type errors</li>
<li>run <code>yarn check-types</code> from the command line</li>
</ul>
</li>
<li>Make sure that the tests are still passing:<!-- -->
<ul>
<li>run <code>yarn test:unit</code> from the command line</li>
</ul>
</li>
<li>Commenting: If your code does something that is not obvious or deviates from standards, leave a comment for other developers to explain your logic and reasoning.<!-- -->
<ul>
<li>Use <code>//</code> commenting format unless it&#x27;s a comment you want people to see in their IDE.</li>
<li>Use <code>/** */</code> commenting format for documenting a function/variable.</li>
</ul>
</li>
<li>Code white space can be helpful for reading complex code, please add some.</li>
<li>For unit tests, we forbid import stubbing when other approaches are feasible.</li>
<li>Metrics are a <a href="https://www.youtube.com/watch?v=49_qQDbLjGU" target="_blank" rel="noopener noreferrer">critical part of Lodestar</a>, every large feature should be documented with metrics<!-- -->
<ul>
<li>Metrics need to follow the <a href="https://prometheus.io/docs/practices/naming/" target="_blank" rel="noopener noreferrer">Prometheus Best Practices</a></li>
<li>For metric names, make sure to add the unit as suffix, e.g. <code>_seconds</code> or <code>_bytes</code></li>
<li>Metric code variables on the other hand should not be suffixed, i.e. <code>Sec</code>-suffix should be omitted</li>
<li>Time-based metrics must use seconds as the unit</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tests-style-guide">Tests style guide<a href="#tests-style-guide" class="hash-link" aria-label="Direct link to Tests style guide" title="Direct link to Tests style guide">​</a></h2>
<p>Test must not depend on external live resources, such that running tests for a commit must be deterministic:</p>
<ul>
<li>Do not pull data from external APIs like execution JSON RPC (instead run a local node).</li>
<li>Do not pull unpinned versions from dockerhub (use deterministic tag) or Github (checkout commit not branch).</li>
<li>Carefully design tests that depend on timing sensitive events like p2p network e2e tests. Consider that Github runners are significantly less powerful than your development environment.</li>
</ul>
<p>Add assertion messages where possible to ease fixing tests if they fail. If an assertion message is called from multiple times with the same stack trace, you <strong>MUST</strong> include an assertion message. For example, if an assertion is inside a for loop add some metadata to be able to locate the error source:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> blockResult </span><span class="token keyword" style="color:rgb(0, 0, 255)">of</span><span class="token plain"> blocksResult</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token function" style="color:rgb(0, 0, 255)">expect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">blockResult</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">equals</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;processed&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token template-string string" style="color:rgb(163, 21, 21)">wrong block </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">${</span><span class="token template-string interpolation">blockResult</span><span class="token template-string interpolation punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token template-string string" style="color:rgb(163, 21, 21)"> result status</span><span class="token template-string template-punctuation string" style="color:rgb(163, 21, 21)">`</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="logging-policy">Logging policy<a href="#logging-policy" class="hash-link" aria-label="Direct link to Logging policy" title="Direct link to Logging policy">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="logging-levels">Logging Levels<a href="#logging-levels" class="hash-link" aria-label="Direct link to Logging Levels" title="Direct link to Logging Levels">​</a></h3>
<p>Contributors must choose the log level carefully to ensure a consistent experience for every type of user:</p>
<ul>
<li><code>error</code>: Critical issues that prevent the application from functioning correctly or cause significant disruption to users. Examples include failed network connections, crashes, or data corruption.</li>
<li><code>warn</code>: Situations that may lead to critical issues if not addressed but do not prevent the application from functioning. Examples include configuration issues, deprecated features, or temporary network disruptions.</li>
<li><code>info</code>: General sporadic informational about the node&#x27;s state. Examples include initialization messages, infrequent periodic status updates, or high-level progress reports.</li>
<li><code>debug</code>: Detailed diagnostic information that can help developers or users troubleshoot specific issues. Examples include individual request logs for every REST API, networking interactions, or internal components status changes. Alias to <code>verbose</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="logging-guidelines">Logging guidelines<a href="#logging-guidelines" class="hash-link" aria-label="Direct link to Logging guidelines" title="Direct link to Logging guidelines">​</a></h3>
<ul>
<li>Avoid excessive logging. Log messages should be clear and concise, providing enough information to understand the context and severity of the issue.</li>
<li>Do not log sensitive data, such as private keys, user credentials, or personal information.</li>
<li>Do not log arbitrary data from the network as ASCII or UTF8 at levels higher or equal to <code>info</code>.</li>
<li>Use clear and concise language. Prefer to log variables in JSON format <code>log.debug(&quot;Action&quot;, {slot})</code> instead of formatting the text yourself <code>log.debug(&#x27;slot=${slot}&#x27;)</code>.</li>
<li>Include only relevant context in log messages, sufficient to debug the issue or action it refers to.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributing-to-grafana-dashboards">Contributing to Grafana dashboards<a href="#contributing-to-grafana-dashboards" class="hash-link" aria-label="Direct link to Contributing to Grafana dashboards" title="Direct link to Contributing to Grafana dashboards">​</a></h2>
<p>To edit or extend an existing Grafana dashboard with minimal diff:</p>
<ol>
<li>Grab the <code>.json</code> dashboard file from current unstable</li>
<li>Import the file to Grafana via the web UI at <code>/dashboard/import</code> without modifying the UID of the dashboard</li>
<li>Visually edit the dashboard</li>
<li>Once done make sure to leave the exact same visual aspect as before: same refresh interval, time range, etc.</li>
<li>Save the dashboard (CTRL+S)</li>
<li>Run download script, see <a href="#using-download-script">below</a> on how to use it</li>
<li>Check git diff of updated dashboards, commit, push and open your PR</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-download-script">Using Download Script<a href="#using-download-script" class="hash-link" aria-label="Direct link to Using Download Script" title="Direct link to Using Download Script">​</a></h3>
<p>Create a file <code>.secrets.env</code> with envs</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token assign-left variable" style="color:rgb(9, 134, 88)">GRAFANA_API_KEY</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token variable" style="color:rgb(9, 134, 88)">$token</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">GRAFANA_URL</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">https://yourgrafanaapi.io</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Run script to download dashboards to <code>./dashboards</code> folder</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">node</span><span class="token plain"> scripts/download_dashboards.mjs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributing-to-documentation">Contributing to Documentation<a href="#contributing-to-documentation" class="hash-link" aria-label="Direct link to Contributing to Documentation" title="Direct link to Contributing to Documentation">​</a></h2>
<p>When submitting PRs for documentation updates, build and run the documentation locally to ensure functionality before submission. First generate the CLI documentation with <code>yarn docs:build</code>. Then build and serve the documentation locally with <code>yarn docs:serve</code>.</p>
<p>Your locally served documentation will then be accessible at <a href="http://localhost:3000/lodestar/" target="_blank" rel="noopener noreferrer">http://localhost:3000/lodestar/</a>.</p>
<p>We also use a spelling <a href="https://github.com/ChainSafe/lodestar/blob/unstable/.wordlist.txt" target="_blank" rel="noopener noreferrer">word list</a> as part of our documentation checks. If using unrecognized words or abbreviations, please extend the word list to pass checks. Make sure the list is sorted with <code>./scripts/wordlist_sort.sh</code> and checked with <code>./scripts/wordlist_sort_check.sh</code> for sorting and duplicates.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="label-guide">Label Guide<a href="#label-guide" class="hash-link" aria-label="Direct link to Label Guide" title="Direct link to Label Guide">​</a></h2>
<p>Issues and pull requests are subject to the following labeling guidelines.</p>
<ul>
<li>PRs may have a status label to indicate deviation from the normal process such as <code>status-blocked</code> or <code>status-do-not-merge</code></li>
<li>Issues and PRs will be tagged with a <code>scope</code> and <code>prio</code> to indicate type and priority for triage.</li>
<li>All other labels allow for further evaluation and organization.</li>
</ul>
<p>Label descriptions can be found below.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="status-issues-and-pull-request-status"><code>status.*</code> Issues and Pull Request Status<a href="#status-issues-and-pull-request-status" class="hash-link" aria-label="Direct link to status-issues-and-pull-request-status" title="Direct link to status-issues-and-pull-request-status">​</a></h6>
<p>Status labels apply to issues and pull requests which deviate from normal processes.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="scope-scope-indicator"><code>scope.*</code> Scope Indicator<a href="#scope-scope-indicator" class="hash-link" aria-label="Direct link to scope-scope-indicator" title="Direct link to scope-scope-indicator">​</a></h6>
<p>Scope is comparable to Module labels but less strict with the definition of components. It applies to both, issues and pull requests.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="prio-prioritization-indicator"><code>prio.*</code> Prioritization Indicator<a href="#prio-prioritization-indicator" class="hash-link" aria-label="Direct link to prio-prioritization-indicator" title="Direct link to prio-prioritization-indicator">​</a></h6>
<p>A simple indicator of issue prioritization. It mainly applies to issues.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="spec-ethereum-consensus-spec-version-target"><code>spec.*</code> Ethereum Consensus Spec Version Target<a href="#spec-ethereum-consensus-spec-version-target" class="hash-link" aria-label="Direct link to spec-ethereum-consensus-spec-version-target" title="Direct link to spec-ethereum-consensus-spec-version-target">​</a></h6>
<p>Issues that target a specific version of the Ethereum consensus spec, shall be tagged accordingly.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">​</a></h2>
<p>Come chat with us on <a href="https://discord.gg/aMxzVcr" target="_blank" rel="noopener noreferrer">Discord</a> and join our public weekly planning meetings!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/ChainSafe/lodestar/tree/unstable/docs/pages/contribution/getting-started.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/lodestar/supporting-libraries/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Supporting Libraries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/lodestar/contribution/advanced-topics/setting-up-a-testnet"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Setting Up a Testnet</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#macos-specifics" class="table-of-contents__link toc-highlight">MacOS Specifics</a></li></ul></li><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a></li><li><a href="#tests" class="table-of-contents__link toc-highlight">Tests</a></li><li><a href="#devcontainer" class="table-of-contents__link toc-highlight">Devcontainer</a><ul><li><a href="#common-issues" class="table-of-contents__link toc-highlight">Common Issues</a></li><li><a href="#debugging-spec-tests" class="table-of-contents__link toc-highlight">Debugging Spec Tests</a></li></ul></li><li><a href="#docker" class="table-of-contents__link toc-highlight">Docker</a></li><li><a href="#first-time-contributor" class="table-of-contents__link toc-highlight">First Time Contributor?</a></li><li><a href="#reporting-a-bug" class="table-of-contents__link toc-highlight">Reporting A Bug?</a></li><li><a href="#contribution-process" class="table-of-contents__link toc-highlight">Contribution Process</a></li><li><a href="#github-style-guide" class="table-of-contents__link toc-highlight">Github Style Guide</a></li><li><a href="#lodestar-monorepo" class="table-of-contents__link toc-highlight">Lodestar Monorepo</a></li><li><a href="#style-guide" class="table-of-contents__link toc-highlight">Style Guide</a></li><li><a href="#tests-style-guide" class="table-of-contents__link toc-highlight">Tests style guide</a></li><li><a href="#logging-policy" class="table-of-contents__link toc-highlight">Logging policy</a><ul><li><a href="#logging-levels" class="table-of-contents__link toc-highlight">Logging Levels</a></li><li><a href="#logging-guidelines" class="table-of-contents__link toc-highlight">Logging guidelines</a></li></ul></li><li><a href="#contributing-to-grafana-dashboards" class="table-of-contents__link toc-highlight">Contributing to Grafana dashboards</a><ul><li><a href="#using-download-script" class="table-of-contents__link toc-highlight">Using Download Script</a></li></ul></li><li><a href="#contributing-to-documentation" class="table-of-contents__link toc-highlight">Contributing to Documentation</a></li><li><a href="#label-guide" class="table-of-contents__link toc-highlight">Label Guide</a></li><li><a href="#community" class="table-of-contents__link toc-highlight">Community</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://lodestar.chainsafe.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Lodestar Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://discord.com/invite/yjyvFRP" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://x.com/lodestar_eth" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter/X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://github.com/ChainSafe/lodestar" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 ChainSafe. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>